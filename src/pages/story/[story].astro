---
import Layout from '@layouts/Layout.astro';
import Topic from '@components/Story.svelte';

const { story } = Astro.params;

if (!story) {
  Astro.redirect('/');
}

const storyImage = story?.replace(/%20/g, '');
const storyName = story?.replace(/%20/g, ' ');

const meta = {
  title: `Welcome to Conexus - play ${storyName}`,
  description: `Play the best ${storyName} has to offer`,
  image: `/favicon.png`,
  // image: `https://media.degenerousdao.com/conexus-categories/images/${storyName}/backgrounds`,
  url: `https://conexus-v1-test.degenerousdao.com/story/${story}`,
};
---

<Layout {story} {...meta}>
  <Topic story_name={story} client:load />
</Layout>
