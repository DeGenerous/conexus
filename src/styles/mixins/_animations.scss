// ANIMATION CLASSES: fade-in, loading-animation, shimmer, loading-logo

@mixin bright($intensity: 125%) {
  filter: brightness($intensity);
}

@mixin grayscale($intensity: 100%) {
  filter: grayscale($intensity);
}

@mixin scale($intensity: 1.05, $direction: "both") {
  @if $direction == "x" {
    transform: scaleX($intensity);
  }
  @else if $direction == "y" {
    transform: scaleY($intensity);
  }
  @else {
    transform: scale($intensity);
  }
}

@mixin scale-up($intensity: "deep") {
  @if $intensity == "soft" {
    transform: scale(1.025) translateY(-0.25rem);
  }
  @else {
    transform: scale(1.025) translateY(-0.5rem);
  }
}

// ANIMATIONS

@keyframes shimmer {
  0%,
  25% {
    background-position: 125% 0;
  }
  50% {
    @include bright;
  }
  75%,
  100% {
    background-position: 0 0;
  }
}

@keyframes loading-logo {
  0% {
    transform: scale(0);
    opacity: 0;
    @include grayscale;
  }
  10% {
    transform: scale(1.5);
    opacity: 1;
    @include bright;
  }
  20% {
    transform: scale(1);
    opacity: 1;
    filter: none;
  }
  100% {
    transform: scale(2) rotate(-1080deg);
    opacity: 0;
  }
}

// General definitions

:global(.loading-animation) {
  background-image: linear-gradient(
    45deg,
    rgba(51, 226, 230, 0),
    rgba(51, 226, 230, 0),
    rgba(51, 226, 230, 0.1),
    rgba(51, 226, 230, 0),
    rgba(51, 226, 230, 0)
  );
  background-size: 500% auto;
  animation: shimmer 2s ease-in-out infinite;
}

:global(.shimmer) {
  @extend :global(.loading-animation);
  animation-iteration-count: 1;
}

:global(.loading-logo) {
  width: 10rem;
  aspect-ratio: 1 / 1;
  opacity: 0;
  transform: scale(0);
  @include grayscale;
  animation: loading-logo 5s cubic-bezier(0.14, 0.75, 0.2, 1) forwards;
}

:global(.fade-in) {
  transition: all 0.3s ease-in-out;
  
  // Fallback if no support
  opacity: 1;
  transform: none;
  filter: none;

  @starting-style {
    opacity: 0;
    transform: scale(0.975) skew(1deg, -1deg);
    filter: brightness(125%) contrast(125%);
  }
}
